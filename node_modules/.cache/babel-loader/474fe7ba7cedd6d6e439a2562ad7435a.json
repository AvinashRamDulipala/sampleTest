{"ast":null,"code":"import _classCallCheck from \"D:\\\\Git\\\\im-possibillion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Git\\\\im-possibillion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Git\\\\im-possibillion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Git\\\\im-possibillion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Git\\\\im-possibillion\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Git\\\\im-possibillion\\\\src\\\\component\\\\dashboard.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport HeaderPage from \"./header\";\nimport FooterPage from \"./footer\";\nimport firebase from '../config';\nimport SidebarPage from \"./sidebar\";\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n    _this.state = {\n      date: new Date().toLocaleString(),\n      userCount: '',\n      orsersCount: '',\n      merchantCount: '',\n      productsCount: ''\n    };\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var dbCon = firebase.database().ref(\"users/\");\n      dbCon.on('value', function (snapshot) {\n        console.log(snapshot.numChildren());\n\n        _this2.setState({\n          userCount: snapshot.numChildren()\n        });\n      });\n      this.ordersView();\n      this.merchantView();\n      this.productsView();\n    }\n  }, {\n    key: \"ordersView\",\n    value: function ordersView() {\n      var _this3 = this;\n\n      this.setState({\n        loading: true\n      });\n      var sessionId = sessionStorage.getItem(\"RoleId\");\n      var userRole = sessionStorage.getItem(\"userRole\");\n\n      if (userRole == \"Merchant\") {\n        var ref = firebase.database().ref(\"orders/\").orderByChild(\"merchantId\").equalTo(sessionId);\n      } else if (userRole == \"Delivery Boy\") {\n        var ref = firebase.database().ref(\"orders/\").orderByChild(\"assignTo\").equalTo(sessionId);\n      } else {\n        var ref = firebase.database().ref(\"orders/\");\n      }\n\n      ref.on('value', function (snapshot) {\n        console.log(snapshot.numChildren());\n\n        _this3.setState({\n          orsersCount: snapshot.numChildren()\n        });\n      });\n    }\n  }, {\n    key: \"merchantView\",\n    value: function merchantView() {\n      var _this4 = this;\n\n      var dbCon = firebase.database().ref(\"Employees/\").orderByChild(\"Role\").equalTo(\"Merchant\");\n      dbCon.on('value', function (snapshot) {\n        console.log(snapshot.numChildren());\n\n        _this4.setState({\n          merchantCount: snapshot.numChildren()\n        });\n      });\n    }\n  }, {\n    key: \"productsView\",\n    value: function productsView() {\n      var _this5 = this;\n\n      var sessionId = sessionStorage.getItem(\"RoleId\");\n      var userRole = sessionStorage.getItem(\"userRole\");\n      var ref;\n\n      if (userRole == \"employee\") {\n        var ref = firebase.database().ref(\"Employees/\").orderByChild(\"sessionId\").equalTo(sessionId);\n      } else {\n        var ref = firebase.database().ref(\"Employees/\");\n      }\n\n      ref.on('value', function (snapshot) {\n        console.log(snapshot.numChildren());\n\n        _this5.setState({\n          productsCount: snapshot.numChildren()\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(SidebarPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"all-content-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(HeaderPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"breadcome-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"breadcome-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"breadcomb-wp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"breadcomb-ctn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Dashboard\")))))))))), React.createElement(\"div\", {\n        className: \"income-order-visit-user-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, sessionStorage.getItem(\"userRole\") == \"Admin\" ? React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-3 col-sm-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/EmployeeList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"income-dashone-total reso-mg-b-30 user_bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"income-dashone-pro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"income-rate-total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"price-nalika-rate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"counter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, this.state.productsCount))), React.createElement(\"div\", {\n        className: \"price-graph\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"sparkline1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"income-range\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Employees\"), React.createElement(\"span\", {\n        className: \"income-percentange bg-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"clear\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }))))) : '', React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-3 col-sm-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/FileList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"income-dashone-total reso-mg-b-30 order_bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"income-dashone-pro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"income-rate-total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"price-nalika-rate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"counter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, this.state.orsersCount))), React.createElement(\"div\", {\n        className: \"price-graph\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"sparkline6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"income-range order-cl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \" FileList\"), React.createElement(\"span\", {\n        className: \"income-percentange bg-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-file-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"clear\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }))))))))), React.createElement(FooterPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nexport default Dashboard;","map":{"version":3,"sources":["D:\\Git\\im-possibillion\\src\\component\\dashboard.js"],"names":["React","Link","HeaderPage","FooterPage","firebase","SidebarPage","Dashboard","props","state","date","Date","toLocaleString","userCount","orsersCount","merchantCount","productsCount","dbCon","database","ref","on","snapshot","console","log","numChildren","setState","ordersView","merchantView","productsView","loading","sessionId","sessionStorage","getItem","userRole","orderByChild","equalTo","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport HeaderPage from \"./header\";\r\nimport FooterPage from \"./footer\";\r\nimport firebase from '../config';\r\nimport SidebarPage from \"./sidebar\";\r\n\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        date: new Date().toLocaleString(),\r\n        userCount:'',\r\n        orsersCount:'',\r\n        merchantCount:'',\r\n        productsCount:'',\r\n    }\r\n   \r\n\r\n  }\r\n  componentDidMount(){\r\n\r\n   \r\n\r\n    let dbCon = firebase\r\n    .database()\r\n    .ref(\"users/\");\r\n  dbCon.on('value', snapshot => {\r\n    console.log(snapshot.numChildren());\r\n   this.setState({userCount:snapshot.numChildren()})\r\n});\r\n    this.ordersView();\r\n    this.merchantView();\r\n    this.productsView();\r\n}\r\nordersView() {\r\n    this.setState({loading: true});\r\n    var sessionId = sessionStorage.getItem(\"RoleId\");\r\n    var userRole = sessionStorage.getItem(\"userRole\");\r\n    if(userRole==\"Merchant\"){\r\n        var ref = firebase\r\n        .database()\r\n        .ref(\"orders/\").orderByChild(\"merchantId\")\r\n        .equalTo(sessionId);\r\n    }\r\n    else if(userRole == \"Delivery Boy\") {\r\n        var ref = firebase\r\n            .database()\r\n            .ref(\"orders/\").orderByChild(\"assignTo\")\r\n            .equalTo(sessionId);\r\n\r\n    }else{\r\n        var ref = firebase\r\n            .database()\r\n            .ref(\"orders/\");\r\n\r\n    }\r\n\r\n    ref.on('value', snapshot => {\r\n        \r\n        console.log(snapshot.numChildren());\r\n        this.setState({orsersCount:snapshot.numChildren()})\r\n     });\r\n\r\n\r\n}\r\nmerchantView(){\r\n    let dbCon = firebase.database().ref(\"Employees/\").orderByChild(\"Role\").equalTo(\"Merchant\");\r\n  dbCon.on('value', snapshot => {\r\n    console.log(snapshot.numChildren());\r\n   this.setState({merchantCount:snapshot.numChildren()})\r\n});\r\n}\r\nproductsView(){\r\n    var sessionId = sessionStorage.getItem(\"RoleId\");\r\n    var userRole = sessionStorage.getItem(\"userRole\");\r\n    var ref;\r\n    if (userRole == \"employee\") {\r\n        var ref = firebase\r\n            .database()\r\n            .ref(\"Employees/\")\r\n            .orderByChild(\"sessionId\")\r\n            .equalTo(sessionId);\r\n\r\n    } else {\r\n        var ref = firebase\r\n            .database()\r\n            .ref(\"Employees/\");\r\n    }\r\n\r\n   \r\n    ref.on('value', snapshot => {\r\n    console.log(snapshot.numChildren());\r\n   this.setState({productsCount:snapshot.numChildren()})\r\n});\r\n}\r\n \r\n  render() {\r\n    \r\n\r\n    return (\r\n      <div>\r\n     <SidebarPage/>\r\n   \r\n    <div className=\"all-content-wrapper\">\r\n    <HeaderPage/>\r\n   \r\n          \r\n            <div className=\"breadcome-area\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                            <div className=\"breadcome-list\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6\">\r\n                                        <div className=\"breadcomb-wp\">\r\n                                        \r\n                                            <div className=\"breadcomb-ctn\">\r\n                                                <h2>Dashboard</h2>\r\n                                                </div>\r\n                                        </div>\r\n                                    </div>\r\n                          \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n      \r\n     \r\n            <div className=\"income-order-visit-user-area\">\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                {sessionStorage.getItem(\"userRole\") == \"Admin\"?\r\n                                    <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\r\n                    <Link to='/EmployeeList'>\r\n                        <div className=\"income-dashone-total reso-mg-b-30 user_bg\">\r\n                            <div className=\"income-dashone-pro\">\r\n                                <div className=\"income-rate-total\">\r\n                                    <div className=\"price-nalika-rate\">\r\n                                        <h3><span className=\"counter\">{this.state.productsCount}</span></h3>\r\n                                    </div>\r\n                                    <div className=\"price-graph\">\r\n                                        <span id=\"sparkline1\"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"income-range\">\r\n                                    <p>Employees</p>\r\n                                    <span className=\"income-percentange bg-green\"><i className=\"fa fa-user\"></i>\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"clear\"></div>\r\n                            </div>\r\n                        </div>\r\n                        </Link>\r\n                    </div>:''}\r\n                    <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\r\n                    <Link to='/FileList'>\r\n                        <div className=\"income-dashone-total reso-mg-b-30 order_bg\">\r\n                            <div className=\"income-dashone-pro\">\r\n                                <div className=\"income-rate-total\">\r\n                                    <div className=\"price-nalika-rate\">\r\n                                        <h3><span className=\"counter\">{this.state.orsersCount}</span></h3>\r\n                                    </div>\r\n                                    <div className=\"price-graph\">\r\n                                        <span id=\"sparkline6\"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"income-range order-cl\">\r\n                                    <p> FileList</p>\r\n                                    <span className=\"income-percentange bg-red\"><i className=\"fa fa-file-text\"></i>\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"clear\"></div>\r\n                            </div>\r\n                        </div>\r\n                        </Link>\r\n                    </div>\r\n                    {/* {sessionStorage.getItem(\"userRole\") == \"Admin\"||sessionStorage.getItem(\"userRole\") == \"Super Admin\"?\r\n                    <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\r\n                    <Link to='/MerchantAccount'>\r\n                        <div className=\"income-dashone-total reso-mg-b-30 res-mg-t-30 merchant_bg\">\r\n                            <div className=\"income-dashone-pro\">\r\n                                <div className=\"income-rate-total\">\r\n                                    <div className=\"price-nalika-rate\">\r\n                                        <h3><span className=\"counter\">{this.state.merchantCount}</span></h3>\r\n                                    </div>\r\n                                    <div className=\"price-graph\">\r\n                                        <span id=\"sparkline2\"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"income-range visitor-cl\">\r\n                                    <p>Merchants</p>\r\n                                    <span className=\"income-percentange bg-blue\"><i className=\"fa fa-cart-arrow-down\"></i>\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"clear\"></div>\r\n                            </div>\r\n                        </div>\r\n                        </Link>\r\n                    </div>:''}\r\n                    {sessionStorage.getItem(\"userRole\") == \"Admin\"||sessionStorage.getItem(\"userRole\") == \"Super Admin\"||sessionStorage.getItem(\"userRole\") == \"Merchant\"?\r\n                    <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\r\n                    <Link to='/ProductListPage'>\r\n                        <div className=\"income-dashone-total res-mg-t-30 products_bg\">\r\n                            <div className=\"income-dashone-pro\">\r\n                                <div className=\"income-rate-total\">\r\n                                    <div className=\"price-nalika-rate\">\r\n                                        <h3><span className=\"counter\">{this.state.productsCount}</span></h3>\r\n                                    </div>\r\n                                    <div className=\"price-graph\">\r\n                                        <span id=\"sparkline5\"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"income-range low-value-cl\">\r\n                                    <p>Products</p>\r\n                                    <span className=\"income-percentange bg-purple\"><i className=\"fa fa-shopping-basket\"></i>\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"clear\"></div>\r\n                            </div>\r\n                        </div>\r\n                        </Link>\r\n                    </div>:''} */}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n         </div>\r\n         <FooterPage/>\r\n    \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}